<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ Ch√∫c M·ª´ng Sinh Nh·∫≠t B·ªë Y√™u üéâ</title> 
    <style>
        /* --- CSS N·ªÄN V√Ä TRANG TR√ç --- */
        body {
            /* ƒê·ªïi t√¥ng m√†u ·∫•m √°p, nam t√≠nh h∆°n (xanh d∆∞∆°ng/xanh l√°/v√†ng) */
            font-family: 'Times New Roman', Times, serif;
            /* T√¥ng m√†u xanh d∆∞∆°ng/v√†ng ·∫•m √°p */
            background: linear-gradient(to right top, #e3f2fd, #bbdefb, #64b5f6); 
            color: #1a237e;
            text-align: center;
            padding: 20px;
            margin: 0;
            overflow-x: hidden;
        }

        #container {
            max-width: 800px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            opacity: 0; 
            transition: opacity 2s;
        }

        h1 {
            color: #0d47a1; /* M√†u xanh ƒë·∫≠m */
            font-size: 2.5em;
            text-shadow: 1px 1px 3px #90caf9;
            margin-bottom: 20px;
        }

        /* --- PH·∫¶N H·ªéI NH·∫†C --- */
        #music-question {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px dashed #1e88e5; /* ƒê·ªïi m√†u vi·ªÅn */
            border-radius: 10px;
        }

        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        #btn-yes { background-color: #42a5f5; color: white; } /* Xanh d∆∞∆°ng */
        #btn-yes:hover { background-color: #1e88e5; }
        #btn-no { background-color: #bbdefb; color: #1a237e; } /* Xanh nh·∫°t */
        #btn-no:hover { background-color: #90caf9; }

        #content { display: none; }

        /* Khung ch·ªØ nh·∫≠t cho th∆∞ */
        #letter-box {
            background-color: #e3f2fd; /* M√†u n·ªÅn th∆∞ thay ƒë·ªïi */
            border: 1px solid #90caf9;
            padding: 25px;
            text-align: left;
            border-radius: 10px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
            white-space: pre-wrap;
            min-height: 250px;
            margin-top: 20px;
        }

        /* --- B√ìNG BAY V√Ä B√ÅNH KEM (ƒê√£ ƒë·ªïi m√†u) --- */
        .balloon {
            width: 40px; height: 50px; background: #42a5f5; /* ƒê·ªïi m√†u b√≥ng bay */
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute; bottom: -100px; box-shadow: inset -5px -5px 10px rgba(0,0,0,0.2);
            opacity: 0; animation: float 10s ease-in-out infinite; z-index: 10;
        }
        .balloon::before {
            content: ''; position: absolute; bottom: -10px; left: 50%;
            transform: translateX(-50%); width: 0; height: 0; border-style: solid;
            border-width: 0 5px 10px 5px; border-color: transparent transparent var(--balloon-color) transparent;
        }

        @keyframes float {
            0% { transform: translateY(0); opacity: 0.8; }
            100% { transform: translateY(-120vh); opacity: 0; }
        }

        /* B√°nh kem CSS Art (ƒê√£ ƒë·ªïi m√†u) */
        #cake {
            margin: 40px auto 20px; display: none; width: 250px; height: 200px; position: relative;
        }
        .layer { position: absolute; width: 100%; border-radius: 50%; }
        .bottom { height: 80px; background: #90caf9; top: 120px; box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2); }
        .middle { height: 60px; background: #e3f2fd; top: 60px; z-index: 1; }
        .top { height: 40px; background: #64b5f6; top: 20px; z-index: 2; }
        .icing { height: 20px; background: #ffffff; top: 10px; z-index: 3; border-radius: 50%; }
        .candle { position: absolute; width: 5px; height: 20px; background: #ffeb3b; top: -10px; left: 50%; transform: translateX(-50%); z-index: 4; border-radius: 2px; } /* N·∫øn v√†ng */
        .flame { position: absolute; width: 6px; height: 8px; background: orange; border-radius: 50%; top: -18px; left: 50%; transform: translateX(-50%); z-index: 5; box-shadow: 0 0 5px yellow; }
        .message { position: absolute; top: 60px; width: 100%; text-align: center; font-weight: bold; color: #0d47a1; font-size: 0.8em; z-index: 5; }
        /* ƒê·ªîI CH·ªÆ: CH√öC M·ª™NG SINH NH·∫¨T */
        #cake .message:after { content: "SINH NH·∫¨T VUI V·∫∫"; }


        /* --- CSS CH·ªÆ R∆†I ƒê·∫∏P (FALLING TEXT) --- */
        .falling-text {
            position: fixed;
            top: 0;
            z-index: 1000;
            font-size: 1.5em; /* K√≠ch th∆∞·ªõc ch·ªØ */
            opacity: 0;
            color: #ffeb3b; /* M√†u ch·ªØ v√†ng */
            text-shadow: 0 0 5px #0d47a1, 0 0 10px #0d47a1;
            /* Th√™m hi·ªáu ·ª©ng xoay v√† r∆°i */
            animation: fall 10s linear infinite; 
            pointer-events: none;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        /* --- K·∫æT TH√öC CSS CH·ªÆ R∆†I --- */

    </style>
</head>
<body>
    <audio id="bg-music" loop>
        <source src="hbbd.mp3" type="audio/mp3">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ audio.
    </audio>

    <div id="music-question">
        <h2>ü•≥ B·ªë y√™u, con c√≥ th·ªÉ b·∫≠t m·ªôt b·∫£n nh·∫°c n·ªÅn sinh nh·∫≠t nh·∫π nh√†ng kh√¥ng ·∫°? ü•≥</h2>
        <button id="btn-yes" class="btn">Yes! üé∂</button>
        <button id="btn-no" class="btn">Noü§´</button>
    </div>

    <div id="falling-text-area" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50;">
    </div>
    
    <div id="container">
        <h1 id="main-title">üéÇ CH√öC M·ª™NG SINH NH·∫¨T B·ªê - NG∆Ø·ªúI ƒê√ÄN √îNG Vƒ® ƒê·∫†I NH·∫§T üéÇ</h1>
        
        <div id="content">
            <h2 style="color: #0d47a1;">1: L·ªùi Gi·ªõi Thi·ªáu</h2>
            <p id="intro-text" style="font-style: italic; font-size: 1.1em;"></p>
            
            <h2 style="color: #0d47a1;">2: B·ª©c Th∆∞ T√¥n Vinh B·ªë</h2>
            <div id="letter-box">
                <p id="typing-letter">ƒêang so·∫°n l·ªùi ch√∫c...</p>
            </div>
            
            <h2 id="final-step" style="color: #0d47a1; margin-top: 30px; display: none;">3: M√≥n Qu√† B·∫•t Ng·ªù!</h2>

            <div id="balloon-area" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5;">
            </div>

            <div id="cake">
                <div class="candle"><div class="flame"></div></div>
                <div class="icing"></div>
                <div class="top layer"><div class="message"></div></div> <div class="middle layer"></div>
                <div class="bottom layer"></div>
            </div>

            <p id="closing-message" style="font-size: 1.2em; font-weight: bold; margin-top: 30px; display: none; color: #0d47a1;">
                Con ch√∫c B·ªë lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c, v√† lu√¥n l√† tr·ª• c·ªôt v·ªØng ch·∫Øc c·ªßa gia ƒë√¨nh m√¨nh!
                <br>
                Con y√™u B·ªë r·∫•t nhi·ªÅu! ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <script>
        // S·ª¨A N·ªòI DUNG TH∆Ø CHO SINH NH·∫¨T B·ªê
        const letterContent = `
G·ª≠i B·ªë y√™u qu√Ω c·ªßa con!

H√¥m nay l√† m·ªôt ng√†y ƒë·∫∑c bi·ªát, l√† sinh nh·∫≠t c·ªßa ng∆∞·ªùi ƒë√†n √¥ng vƒ© ƒë·∫°i nh·∫•t trong cu·ªôc ƒë·ªùi con.

B·ªë lu√¥n l√† ng∆∞·ªùi h√πng th·∫ßm l·∫∑ng, l√† ngu·ªìn s·ª©c m·∫°nh v√† l√† kim ch·ªâ nam cho con. Nh·ªØng l·ªùi d·∫°y, s·ª± ki√™n nh·∫´n v√† t√¨nh y√™u th∆∞∆°ng v√¥ ƒëi·ªÅu ki·ªán c·ªßa B·ªë ƒë√£ ƒë·ªãnh h√¨nh con ng∆∞·ªùi con ng√†y h√¥m nay.

C·∫£m ∆°n B·ªë v√¨ t·∫•t c·∫£ nh·ªØng n·ªó l·ª±c, s·ª± hy sinh v√† nh·ªØng kho·∫£nh kh·∫Øc tuy·ªát v·ªùi B·ªë ƒë√£ mang l·∫°i cho gia ƒë√¨nh.

Con k√≠nh ch√∫c B·ªë b∆∞·ªõc sang tu·ªïi m·ªõi v·ªõi th·∫≠t nhi·ªÅu s·ª©c kh·ªèe, lu√¥n t∆∞∆°i tr·∫ª v√† th√†nh c√¥ng trong m·ªçi d·ª± ƒë·ªãnh. B·ªë h√£y lu√¥n t·ª± h√†o v·ªÅ b·∫£n th√¢n v√† s·ªëng th·∫≠t vui v·∫ª nh√©!

Ch√∫c M·ª´ng Sinh Nh·∫≠t B·ªë!

Con c·ªßa B·ªë: Minh V≈©
`;

        const music = document.getElementById('bg-music');
        const container = document.getElementById('container');
        const content = document.getElementById('content');
        const introText = document.getElementById('intro-text');
        const typingLetter = document.getElementById('typing-letter');
        const finalStep = document.getElementById('final-step');
        const cakeElement = document.getElementById('cake');
        const closingMessage = document.getElementById('closing-message');
        const musicQuestion = document.getElementById('music-question');
        const balloonArea = document.getElementById('balloon-area');
        const fallingTextArea = document.getElementById('falling-text-area'); // Th√™m khu v·ª±c ch·ªØ r∆°i

        // H√†m g√µ ch·ªØ t·ª± ƒë·ªông (Gi·ªØ nguy√™n)
        function typeWriter(text, element, speed) {
            let i = 0;
            return new Promise(resolve => {
                function typing() {
                    if (i < text.length) {
                        // Thay th·∫ø k√Ω t·ª± xu·ªëng d√≤ng b·∫±ng <br> trong HTML (n·∫øu c·∫ßn)
                        const char = text.charAt(i);
                        if (char === '\n') {
                            element.innerHTML += '<br>';
                        } else {
                            element.textContent += char;
                        }
                        i++;
                        setTimeout(typing, speed);
                    } else {
                        resolve();
                    }
                }
                typing();
            });
        }
        
        // Hi·ªáu ·ª©ng b√≥ng bay (ƒê√£ ƒë·ªïi m√†u)
        function startBalloonAnimation() {
            // ƒê·ªïi m√†u b√≥ng bay ph√π h·ª£p v·ªõi t√¥ng m√†u xanh/v√†ng
            const colors = ['#1e88e5', '#42a5f5', '#64b5f6', '#ffeb3b', '#c5e1a5'];
            
            for (let i = 0; i < 15; i++) { 
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                
                const randomLeft = Math.random() * 80 + 10;
                balloon.style.left = randomLeft + '%';
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.background = color;
                balloon.style.setProperty('--balloon-color', color);
                
                const randomDelay = Math.random() * 5; 
                balloon.style.animationDelay = randomDelay + 's';
                
                balloonArea.appendChild(balloon);
            }
        }


        // --- TH√äM H√ÄM CH·ªÆ R∆†I ƒê·∫∏P ---
        function startFallingText() {
            const messages = ["üéÇ", "Ch√∫c M·ª´ng", "Sinh Nh·∫≠t", "B·ªë Y√™u", "üéâ", "‚ù§Ô∏è", "B·ªë", "Vui V·∫ª"];
            const colors = ['#ffeb3b', '#ffc107', '#ff9800']; // M√†u v√†ng/cam
            
            let count = 0;
            const interval = setInterval(() => {
                if (count >= 50) { // Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng ch·ªØ r∆°i
                    clearInterval(interval);
                    return;
                }
                
                const text = document.createElement('span');
                text.className = 'falling-text';
                
                // Ch·ªçn ng·∫´u nhi√™n m·ªôt th√¥ng ƒëi·ªáp
                text.textContent = messages[Math.floor(Math.random() * messages.length)];
                
                // V·ªã tr√≠ ng·∫´u nhi√™n
                text.style.left = Math.random() * 90 + 5 + '%';
                
                // ƒê·ªô tr·ªÖ ng·∫´u nhi√™n
                text.style.animationDelay = -Math.random() * 10 + 's';
                
                // T·ªëc ƒë·ªô ng·∫´u nhi√™n
                text.style.animationDuration = Math.random() * 5 + 5 + 's'; 

                // M√†u ng·∫´u nhi√™n
                text.style.color = colors[Math.floor(Math.random() * colors.length)];
                
                // K√≠ch th∆∞·ªõc ng·∫´u nhi√™n
                text.style.fontSize = Math.random() * 1.5 + 1 + 'em'; 

                fallingTextArea.appendChild(text);
                
                // X√≥a ch·ªØ khi r∆°i xong ƒë·ªÉ kh√¥ng l√†m n·∫∑ng tr√¨nh duy·ªát
                text.addEventListener('animationend', () => {
                    text.remove();
                });

                count++;
            }, 500); // T·∫°o m·ªôt ch·ªØ m·ªói 0.5 gi√¢y
        }
        // --- K·∫æT TH√öC H√ÄM CH·ªÆ R∆†I ---


        // B·∫ÆT ƒê·∫¶U CH∆Ø∆†NG TR√åNH CH√çNH (ƒê√£ t√≠ch h·ª£p h√†m ch·ªØ r∆°i)
        function startGift(playMusic) {
            // ·∫®n c√¢u h·ªèi v√† hi·ªán n·ªôi dung ch√≠nh
            musicQuestion.style.display = 'none';
            container.style.opacity = '1';
            content.style.display = 'block';

            // Kh·ªüi ƒë·ªông hi·ªáu ·ª©ng ch·ªØ r∆°i ngay l·∫≠p t·ª©c
            startFallingText();

            // 1. PH√ÅT NH·∫†C & GI·ªöI THI·ªÜU
            let intro = "";
            if (playMusic) {
                try {
                    music.play(); 
                } catch (e) {
                    console.error("Kh√¥ng th·ªÉ ph√°t nh·∫°c 'hbbd.mp3'. H√£y ki·ªÉm tra t√™n file v√† ƒë∆∞·ªùng d·∫´n.");
                }
                intro = "üîä Tuy·ªát v·ªùi! Con xin g·ª≠i ƒë·∫øn B·ªë m·ªôt b·∫£n nh·∫°c sinh nh·∫≠t nh·∫π nh√†ng...";
            } else {
                intro = "ü§´ D·∫° v√¢ng! Con hi·ªÉu r·ªìi, ƒë·ªÉ d√†nh s·ª± b·∫•t ng·ªù. Ch√†o m·ª´ng B·ªë ƒë·∫øn v·ªõi m√≥n qu√† sinh nh·∫≠t nh·ªè n√†y!";
            }

            typeWriter(intro, introText, 50)
            .then(() => {
                typingLetter.textContent = ''; 
                // TƒÉng th·ªùi gian ch·ªù ƒë·ªÉ k·ªãp ƒë·ªçc ph·∫ßn intro
                return new Promise(resolve => setTimeout(resolve, 1500)); 
            })
            // 2. G√ï TH∆Ø T·∫∂NG B·ªê T·ª∞ ƒê·ªòNG
            .then(() => typeWriter(letterContent, typingLetter, 25))
            .then(() => {
                // TƒÉng th·ªùi gian ch·ªù ƒë·ªÉ ƒë·ªçc th∆∞
                return new Promise(resolve => setTimeout(resolve, 3000)); 
            })
            // 3. HI·ªÜU ·ª®NG CU·ªêI: B√ìNG BAY & B√ÅNH KEM
            .then(() => {
                finalStep.textContent = "3: B√ìNG BAY V√Ä B√ÅNH KEM CH√öC M·ª™NG SINH NH·∫¨T!";
                finalStep.style.display = 'block';
                
                // Th·∫£ b√≥ng bay
                startBalloonAnimation();

                // Hi·ªán b√°nh kem
                cakeElement.style.display = 'block';
                
                // L·ªùi nh·∫Øn cu·ªëi
                closingMessage.style.display = 'block';
            });
        }

        // --- S·ª∞ KI·ªÜN T∆Ø∆†NG T√ÅC ---
        document.getElementById('btn-yes').addEventListener('click', () => {
            startGift(true);
        });

        document.getElementById('btn-no').addEventListener('click', () => {
            startGift(false);
        });

    </script>
</body>
</html>
